import { Callout } from 'nextra/components'

# Welcome to Tailwindcss-mangle

## Why tailwindcss-mangle?

Tailwind CSS makes it easy to build interfaces, but its utility classes are just as easy to copy. The tailwindcss-mangle toolchain patches Tailwind, extracts every generated class, and rewrites them into compact tokens so production bundles are harder to reverse engineer.

## What's new in 8.0?

- `tailwindcss-patch@8.0.0` ships a redesigned architecture with typed entry points, cache controls, and Tailwind v4 support.
- The CLI exposes richer flags (`--output`, `--format`, `--css`, `--no-write`) so you can automate extraction workflows.
- `@tailwindcss-mangle/config` keeps legacy configs working while enabling the new unified options object.
- `unplugin-tailwindcss-mangle` reads the refreshed class list and supports Vite, Webpack, Rollup, Esbuild, and Nuxt 3.

<Callout type="info">
Upgrading from v7.x? Follow the <a href="./migration">migration guide</a> for a painless transition.
</Callout>

## Two-step workflow

1. `Patch`
2. `Mangle`

## Patch

Apply runtime patches to your local Tailwind installation, collect build contexts, and write a `.tw-patch/tw-class-list.json` (or newline list) that enumerates every utility class. See [Patch](./patch) for the full CLI and API reference.

## Mangle

Feed the extracted class list to `unplugin-tailwindcss-mangle`, then let the bundler rewrite matching class names during builds. The plugin keeps templates, JSX, MDX, and inlined strings in sync. Explore [Mangle](./mangle) for integration details and configuration tips.

## Quick start

```sh npm2yarn
npm i -D tailwindcss-patch unplugin-tailwindcss-mangle
npx tw-patch install
npx tw-patch extract
```

Then register the plugin for your bundler (e.g. `unplugin-tailwindcss-mangle/vite`) and point it at the generated `.tw-patch/tw-class-list.json`.

## Packages in the toolbox

- `tailwindcss-patch` – patches Tailwind runtimes, extracts class inventories, and exposes contexts for tooling.
- `unplugin-tailwindcss-mangle` – rewrites class usage across bundlers by consuming the generated inventory.
- `@tailwindcss-mangle/config` – shared configuration loader that normalises both legacy and modern option shapes.
- `@tailwindcss-mangle/shared` – helpers for class generation, filtering, and shared regex utilities.

## Current implementation status

- Compiler-aware transform dispatch is enabled in `unplugin-tailwindcss-mangle`: files are routed to JS/Vue/Svelte/CSS/HTML handlers using extension + query hints (`type`, `lang`) and source heuristics.
- Webpack HTML child-compilation conflicts are guarded by scoped include logic and HTML request bypass rules.
- Mapping output (`.tw-patch/tw-map-list.json`) is validated against real application builds in the repository E2E suite.
- Workspace runtime package resolution uses `dist` entries for stable consumption in Next/Webpack build phases.

See [Integrations](./integration) for framework-specific setup and [Testing & E2E](./testing) for validation details.
